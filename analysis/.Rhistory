knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(easystats)
library(tayloRswift)
dat= read.csv("data/COVID_MH_data/deaths.csv")
library(readr)
deaths <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
View(deaths)
head(dth)
head(dth)
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
head(dth)
dth
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")),fileEncoding = "UTF-8")
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",fileEncoding = "UTF-8",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",fileEncoding = "UTF-8",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
,dth
dth
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",encoding = "UTF-8",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d"),encoding = "UTF-8"))
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")),encoding = "UTF-8")
?read_csv
?read_csv2
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
library(readr)
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth
view(dh)
view(dth)
View(dth)
View(dth)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
head(dth)
knitr::opts_chunk$set(echo = TRUE)
а= "хей"
a="хей"
а
a
dth
dth
head(dth)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(easystats)
install.packages("easystats", repos = "https://easystats.r-universe.dev")
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
head(dth)
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dht
dth
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")), sep=",")
dth <- read_csv2("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth = as_tibble(dth)
dth
dth = as_tibble(dth) %>%
mutate(across(where(is.character), as.factor))
dth
dth = as_tibble(dth) %>%
mutate(across(where(is.character), as.factor),
`Придружаващи заболявания`= "comorb")
dth
dth <- read_csv("~/GitHub/COVID-19-MH/data/COVID_MH_data/deaths.csv",
col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth = as_tibble(dth) %>%
mutate(across(where(is.character), as.factor)) %>%
rename(comorb=`Придружаващи заболявания`)
dth
dth %>% group_by(comorb) %>% summarise(n=n())
dth %>% group_by(sex) %>% summarise(n=n())
dth %>% group_by(nuts2) %>% summarise(n=n())
dth %>% group_by(nuts2) %>% summarise(n=n()) %>% view()
dth %>% group_by(comorb) %>% summarise(n=n())%>% view()
dth %>% group_by(hospital) %>% summarise(n=n())%>% view()
dth %>% group_by(oxygen_sup) %>% summarise(n=n())%>% view()
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./analysis/bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./analysis/bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
library(rgdal)
install.packages("rgdal")
library(rgdal)
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./analysis/bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./analysis/bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
temp_df <- data.frame(my_spdf@data$NAME_LATN)
names(temp_df) <- c("region")
temp_df$id <- seq(0,nrow(temp_df)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_df, by="id")
map <- ggplot() + geom_polygon(data = spdf_fortified , aes(x = long, y = lat,
group = group),
colour = "black", fill = NA)
cnames <- aggregate(cbind(long, lat) ~ region, data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat, label = region), size = 4) + theme_void()
ggplot() +
geom_polygon(data = spdf_fortified, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
theme_void()
summary(my_spdf)
temp_en$id <- seq(0,nrow(temp_en)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_en, by="id")
temp_bg$id <- seq(0,nrow(temp_bg)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_bg, by="id")
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
temp_en$id <- seq(0,nrow(temp_en)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_en, by="id")
temp_bg$id <- seq(0,nrow(temp_bg)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_bg, by="id")
spdf_fortified
Sys.setlocale(locale = "Bulgarian")
spdf_fortified
Sys.setlocale(locale = "Bulgarian")
spdf_fortified
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
Sys.setlocale(locale = "Bulgarian")
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
# създадване на имена
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
# Create and append "id"
temp_en$id <- seq(0,nrow(temp_en)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_en, by="id")
temp_bg$id <- seq(0,nrow(temp_bg)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_bg, by="id")
map <- ggplot() + geom_polygon(data = spdf_fortified , aes(x = long, y = lat,
group = group),
colour = "black", fill = NA)
cnames <- aggregate(cbind(long, lat) ~ region, data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat, label = region), size = 4) + theme_void()
cnames <- aggregate(cbind(long, lat) ~ region_bg,
data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat,
label = region_bg), size = 4) + theme_void()
Sys.setlocale(locale = "Bulgarian")
Sys.setlocale(locale = "Bulgarian")
knitr::opts_chunk$set(echo = TRUE)
# Необходими пакети
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
Sys.setlocale(locale = "Bulgarian")
# импорт на шейп файла
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
# създадване на имена
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
# Create and append "id"
temp_en$id <- seq(0,nrow(temp_en)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_en, by="id")
temp_bg$id <- seq(0,nrow(temp_bg)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_bg, by="id")
cnames <- aggregate(cbind(long, lat) ~ region_bg,
data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat,
label = region_bg), size = 4) + theme_void()
ggplot() +
geom_polygon(data = spdf_fortified, aes( x = long, y = lat, group = group), fill="#69b3a2", color="white") +
theme_void()
Sys.setlocale(locale = "Bulgarian")
spdf_fortified
knitr::opts_chunk$set(echo = TRUE)
# Необходими пакети
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
Sys.setlocale(locale = "Bulgarian")
# импорт на шейп файла
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
# създадване на имена
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
# Create and append "id"
temp_en$id <- seq(0,nrow(temp_en)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_en, by="id")
temp_bg$id <- seq(0,nrow(temp_bg)-1)
spdf_fortified <- plyr::join(spdf_fortified, temp_bg, by="id")
# карти
map <- ggplot() + geom_polygon(data = spdf_fortified ,
aes(x = long, y = lat,
group = group),
colour = "black", fill = NA)
cnames <- aggregate(cbind(long, lat) ~ region_bg,
data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat,
label = region_bg), size = 4) + theme_void()
Sys.setlocale("LC_CTYPE","russian")
cnames <- aggregate(cbind(long, lat) ~ region_bg,
data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat,
label = region_bg), size = 4) + theme_void()
cnames
Sys.setlocale("LC_CTYPE","bulgarian)
q
Sys.setlocale("LC_CTYPE","bulgarian")
cnames <- aggregate(cbind(long, lat) ~ region_bg,
data=spdf_fortified, FUN=mean)
map + geom_text(data = cnames, aes(x = long, y = lat,
label = region_bg), size = 4) + theme_void()
# Необходими пакети
library(tidyverse)
library(rgdal)
library(broom)
library(ggplot2)
library(dplyr)
Sys.setlocale(locale = "Bulgarian")
# импорт на шейп файла
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE)
spdf_fortified <- tidy(my_spdf)
my_spdf@data$NUTS_NAME
# импорт на шейп файла
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE,
encoding = "UTF-8")
spdf_fortified <- tidy(my_spdf)
my_spdf@data$NUTS_NAME
# импорт на шейп файла
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE,
encoding = "UTF-8")
spdf_fortified <- tidy(my_spdf)
# създадване на имена
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
temp_bg
view(temp_bg)
my_spdf <- readOGR(
dsn= paste0(getwd(),"./bulgarian_maps") ,
layer="Bulgaria_regions_NUTS_3",
verbose=FALSE,
use_iconv = F,
encoding = "UTF-8")
spdf_fortified <- tidy(my_spdf)
# създадване на имена
temp_en <- data.frame(my_spdf@data$NAME_LATN)
names(temp_en) <- c("region_en")
temp_bg <- data.frame(my_spdf@data$NUTS_NAME)
names(temp_bg) <- c("region_bg")
temp_bg
bulgaria <- st_read(
dsn= paste0(getwd(),"./bulgarian_maps/Bulgaria_regions_NUTS_3.shp")
)
install.packages("tmap")
library(tmap)
bulgaria <- st_read(
dsn= paste0(getwd(),"./bulgarian_maps/Bulgaria_regions_NUTS_3.shp")
)
bulgaria <- tmap::st_read(
dsn= paste0(getwd(),"./bulgarian_maps/Bulgaria_regions_NUTS_3.shp")
)
library(sf)
bulgaria <- st_read(
dsn= paste0(getwd(),"./bulgarian_maps/Bulgaria_regions_NUTS_3.shp")
)
tm_shape(bulgaria) + tm_polygons("SHAPE_area")
bulgaria
tm_shape(bulgaria) + tm_polygons("Pop_2019")
ggplot(bulgaria) +
geom_sf() +
coord_sf()
bulgarian_1 <- ggplot(data = bulgaria) +
geom_sf(aes(fill = pop_19)) +
ggtitle(label = "The Honey crisis of 2008", subtitle = "Price per lb")
bulgarian_1
bulgarian_1 <- ggplot(data = bulgaria) +
geom_sf(aes(fill = Pop_2019)) +
ggtitle(label = "The Honey crisis of 2008", subtitle = "Price per lb")
bulgarian_1
bulgaria_t = as_tibble(bulgaria)
bulgaria_t
bulgarian_1 <- ggplot(data = bulgaria_t) +
geom_sf(aes(fill = Pop_2019)) +
ggtitle(label = "The Honey crisis of 2008", subtitle = "Price per lb")
bulgaria_1
bulgarian_1 <- ggplot(data = bulgaria_t) +
geom_sf(aes(fill = Pop_2019)) +
ggtitle(label = "The Honey crisis of 2008", subtitle = "Price per lb")
bulgarian_1
bulgaria
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
Sys.setlocale(locale = "Bulgarian")
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
library(officer)
library(janitor)
library(flextable)
library(apyramid)
library(rstatix)
library(gtsummary)
Sys.setlocale(locale = "Bulgarian")
knitr::opts_chunk$set(echo = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(easystats)
library(tayloRswift)
library(readr)
library(officer)
library(janitor)
library(flextable)
library(apyramid)
library(rstatix)
library(gtsummary)
Sys.setlocale(locale = "Bulgarian")
cov = read_csv("C:\\\\Users\\Desktop\\covid_full.csv",
col_types = cols(exam_date = col_date(format = "%d.%m.%Y"),
lastvac_date = col_date(format = "%d.%m.%Y"),
start_hospis = col_date(format = "%d.%m.%Y"),
end_hospis = col_date(format = "%d.%m.%Y")))
cov = as_tibble(cov)
dth <- read_csv("https://raw.githubusercontent.com/kostadinoff/COVID-19-MH/master/data/COVID_MH_data/deaths.csv", col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth = as_tibble(dth)
cov = read_csv("C:\\\\Users\\PC\\Desktop\\covid_full.csv",
col_types = cols(exam_date = col_date(format = "%d.%m.%Y"),
lastvac_date = col_date(format = "%d.%m.%Y"),
start_hospis = col_date(format = "%d.%m.%Y"),
end_hospis = col_date(format = "%d.%m.%Y")))
cov = as_tibble(cov)
dth <- read_csv("https://raw.githubusercontent.com/kostadinoff/COVID-19-MH/master/data/COVID_MH_data/deaths.csv", col_types = cols(add_day = col_date(format = "%Y-%m-%d"),
death_day = col_date(format = "%Y-%m-%d")))
dth = as_tibble(dth)
View(cov)
View(cov)
View(cov)
View(cov)
View(cov)
View(cov)
View(cov)
View(cov)
